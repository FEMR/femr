@import femr.common.models.PatientItem
@import femr.ui.controllers.ManagerController
@import femr.ui.models.manager.EditViewModelGet
@import femr.ui.views.html.layouts.main

@import collection.JavaConversions._
@(currentUser: femr.common.dtos.CurrentUser, ManageViewModelPost: EditViewModelGet,viewModelMedical: femr.ui.models.history.IndexEncounterMedicalViewModel )
@additionalScripts = {
    <script type="text/javascript" src="@routes.Assets.versioned("js/libraries/jquery-2.0.3.min.js")"></script>
    <script type="text/javascript" src="@routes.Assets.versioned("js/libraries/jquery.tablescroll.js")"></script>
    <script type="text/javascript" src="@routes.Assets.versioned("js/history/history.js")"></script>

}
@additionalStyles = {
    <link rel="stylesheet" href="@routes.Assets.versioned("css/libraries/jquery.tablescroll.css")">
    <link rel="stylesheet" href="@routes.Assets.versioned("css/history.css")">
}

<!doctype html>
@main("Triage Patients Checked in Today", currentUser, scripts = additionalScripts, styles = additionalStyles){

<body>

    <div id="center-panel">
<div class="backgroundForWrap">
    <div  class ="h1" id="title"> List Of Triage Patients Checked In Today: @ManageViewModelPost.getToday TripID: @currentUser.getTripId</div>


    <div >

        <table  id="medTable"  >
            <thead>
                <tr >
                    <th> Patient ID </th>
                    <th> Name </th>
                    <th> HPI </th>
                    <th> Triage Check-In Time </th>
                    <th> Medical Check-In Time </th>
                    <th> Pharmacy Check-In Time </th>
                    <th> Total Time Spent </th>
                </tr>
            </thead>
            <tbody>
            @for(y <- 1 to ManageViewModelPost.getTriagePatients.size) {
                @defining(ManageViewModelPost.getTriagePatients.get(y - 1)) { item =>
                    @defining(ManageViewModelPost.getEncounter.get(y - 1)) { encounter=>
                        <tr class="form-history">
                            <td>@item.getId</td>
                            <td>@item.getFirstName @item.getLastName</td>
                            <td>@encounter.getChiefComplaints  </td>
                            @if(encounter.getTriageDateOfVisit != null) {
                            <td>@ManageViewModelPost.getTriageTime(encounter)</td>}
                            @if(encounter.getMedicalDateOfVisit!=null){
                            <td>@ManageViewModelPost.getMedicalTime(encounter)</td>
                            }
                            @if(encounter.getPharmacyDateOfVisit != null) {
                                <td>@ManageViewModelPost.getPharmTime(encounter)</td>
                            }
                                <td>@ManageViewModelPost.turnAroundTime(encounter)</td>


                        </tr>
                    }
                }
            }

            </tbody>
        </table>

    </div>
    </div>

</div>
    </div>

</body>


}